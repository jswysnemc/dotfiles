# 远程控制设置 - 仅允许通过socket进行远程控制，提高安全性
allow_remote_control	socket-only
# 监听Unix socket路径，用于远程控制连接
listen_on		unix:/tmp/kitty
# 启用shell集成功能，提供更好的终端交互体验（如显示命令状态）
shell_integration enabled

# nvim无头模式生成kitten插件的命令（可能是自动化配置生成）
nvim --headless +'KittyScrollbackGenerateKittens'


# 使用nvim作为scrollback pager，需要搭配nvim配置
# https://github.com/mikesmithgh/kitty-scrollback.nvim
# 定义别名，将kitty_scrollback_nvim映射到kitten插件
action_alias kitty_scrollback_nvim kitten
	\ ~/.config/kitty/kitty_scrollback_nvim.py
# 劫持scrollback默认键位，重新定义快捷键行为
# kitty_mod+h 打开nvim scrollback查看器
map kitty_mod+h kitty_scrollback_nvim
# kitty_mod+g 查看最后一个命令的输出
map kitty_mod+g kitty_scrollback_nvim --config ksb_builtin_last_cmd_output
# Ctrl+Shift+右键组合操作：选择命令输出并用nvim查看
mouse_map ctrl+shift+right press ungrabbed combine
	\ : mouse_select_command_output
	\ : kitty_scrollback_nvim --config ksb_builtin_last_visited_cmd_output
# }}}


# —— 中键 = 复制选区到系统剪贴板 ——
# 用 press 事件可即时触发；同时把 release 事件置空，避免触发 kitty 的默认“中键释放=粘贴主选区”
mouse_map middle press   grabbed,ungrabbed copy_to_clipboard
mouse_map middle release grabbed,ungrabbed

# —— 右键 = 从系统剪贴板粘贴 ——
# 同样用 press，保证立刻粘贴；覆盖 grabbed / ungrabbed 两种模式
mouse_map right  press   grabbed,ungrabbed paste_from_clipboard


# map f11 kitten zoom_toggle.py  # 未启用：F11缩放切换功能（可能不需要或与其他程序冲突）

# 字体配置部分
# 主字体设置为Maple Mono NF CN（支持中文的Nerd Font版本）
font_family family="Maple Mono NF CN"
# 自动选择对应的粗体字体
bold_font        auto
# 自动选择对应的斜体字体
italic_font      auto
# 自动选择对应的粗斜体字体（注意原配置第29行有拼写错误）
bold_italic_font auto
# 行高调整为100%（标准高度，不拉伸）
adjust_line_height 100%

# 字体特性配置（OpenType特性，用于字符变体）
# 常规字体启用cv01和cv61特性（改变某些字符的显示样式）
font_features MapleMono-NF-CN-Regular  +cv01 +cv61
# 粗斜体字体启用多个字符变体特性
font_features MapleMono-NF-CN-SemiBoldItalic +cv35 +cv33 +cv34 +cv39 +cv37
# 斜体字体启用多个字符变体特性
font_features MapleMono-NF-CN-Italic +cv35 +cv33 +cv34 +cv39 +cv37

# 符号映射配置（被注释掉）
#symbol_map U+4E00-U+9FFF,U+3400-U+4DBF Maple Mono NF CN  # 未启用：中文字符范围映射（可能主字体已包含中文或不需要特殊映射）
#symbol_map U+23FB-U+23FE,U+2665,U+26A1,U+2B58,U+E000-U+E00A,U+E0A0-U+E0A3,U+E0B0-U+E0D4,U+E200-U+E2A9,U+E300-U+E3E3,U+E5FA-U+E6AA,U+E700-U+E7C5,U+EA60-U+EBEB,U+F000-U+F2E0,U+F300-U+F32F,U+F400-U+F4A9,U+F500-U+F8FF,U+F0001-U+F1AF0 Symbols Nerd Font Mono  # 未启用：Nerd Font图标字符映射（可能主字体已包含所需图标）


# 字体大小设置为14点
font_size 14
# 重复的粗体字体配置（与第27行重复）
bold_font auto
# 重复的斜体字体配置（与第28行重复）
italic_font auto
# 重复的粗斜体字体配置（与第29行重复）
bold_italic_font auto

# 窗口透明度设置
# 背景透明度设置为70%（0.7）
background_opacity 0.7
# 动态背景透明度为70%（可能用于焦点切换时的效果）
dynamic_background_opacity 0.7
# 关闭窗口时不显示确认对话框（0=禁用确认）
confirm_os_window_close 0


# 连字功能设置 - 始终禁用连字（在编程时字符分离更清晰）
disable_ligatures always

# 光标动画效果配置
# 启用光标拖尾效果（光标移动时有拖尾动画）
cursor_trail 1

# Linux显示服务器配置
# 自动选择合适的显示服务器（x11或wayland）
linux_display_server auto

# 滚动和历史配置
# 滚动回看缓冲区行数设置为20万行（历史命令保存量）
scrollback_lines 200000
# 鼠标滚轮最小滚动行数为1行（精确滚动）
wheel_scroll_min_lines 1

# 光标形状配置（被注释）
#cursor_shape  beam  # 未启用：设置为光束形光标（可能偏好默认的块状光标）

# 音频设置 - 禁用终端铃声（避免烦人的提示音）
enable_audio_bell no

# 窗口外观设置
# 窗口内边距设置为4像素（文本与窗口边缘的距离）
window_padding_width 4
# 以下颜色配置被注释掉（使用主题文件中的颜色设置）
# selection_foreground none  # 未启用：选择文本时的前景色（让主题决定）
# selection_background none  # 未启用：选择文本时的背景色（让主题决定）
# foreground #000000  # 未启用：默认前景色为黑色（使用主题配置）
# background #dddddd  # 未启用：默认背景色为浅灰色（使用主题配置）
# cursor #000000  # 未启用：光标颜色为黑色（使用主题配置）

# 主题配置

# BEGIN_KITTY_THEME
# Ayu
include current-theme.conf
# END_KITTY_THEME
